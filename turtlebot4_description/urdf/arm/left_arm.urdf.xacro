<?xml version="1.0" ?>
<robot xmlns:xacro="http://ros.org/wiki/xacro">
    <xacro:include filename="$(find irobot_create_description)/urdf/common_properties.urdf.xacro"/>

    <xacro:macro name="left_arm" params="name parent_link:=body *origin">

            <xacro:property name="link_name" value="${name}"/>
            <xacro:property name="joint_name" value="${name}_joint"/>

            <xacro:property name="effort" value="87"/>
            <xacro:property name="velocity" value="2.792527"/>

            
            <link name="${link_name}">
                <inertial>
                    <origin xyz="0 0 0.0" rpy="0 0 0"/>
                    <mass value="0.33"/>
                    <inertia
                    ixx="0.000784" ixy="0.0" ixz="0.0"
                    iyy="0.000867" iyz="0.0"
                        izz="0.001598"/>
                    </inertial>
                    <visual>
                        <geometry>
                            <mesh filename="file://$(find mycobot_description)/meshes/mycobot_280/base_link.dae"/>
                        </geometry>
                        <origin xyz = "0.0 0 -0.03" rpy = "0 0 ${pi/2}"/>
                    </visual>
                    <collision>
                        <geometry>
                            <box size="0.105 0.14 0.02"/>
                        </geometry>
                        <origin xyz = "0.0 0 -0.015" rpy = "0 0 0"/>
                    </collision>
            </link>

                <!--Define the first link of the robotic arm. Each link represents a solid part of the robot.--> 
            <link name="left_link1">
                    <!--Define the inertial properties of the link, which characterizes the link's resistance
                    to changes in its rotational motion.-->
                    <inertial>
                        <!--Specify the pose of the center of mass of the link relative 
                        to this link's coordinate frame.-->
                        <origin xyz="0 0 0.0" rpy="0 0 0"/>
                        <!--The mass of the link in kilograms-->
                        <mass value="0.12"/>
                        <!--The rotational inertia values, which reflect how easily the link can rotate around
                        different axes given the distribution of mass within the link. Here we see rotation is
                        most difficult around the y axis.-->
                        <inertia
                        ixx="0.000148" ixy="0.0" ixz="0.0"
                        iyy="0.000148" iyz="0.0"
                        izz="0.000096"/>
                    </inertial>
                    <!--Define the visual representation of the link in simulation.-->
                    <visual>
                        <!--Define the shape of the link-->
                        <geometry>
                            <!--Specify the link's visual appearance using the 3D mesh file.-->
                            <mesh filename="file://$(find mycobot_description)/meshes/mycobot_280/link1.dae"/>
                        </geometry>
                        <!--Define the position and orientation of the visual representation relative to the 
                        link's reference frame. Here, it's rotated by -1.5708 radians (or -90 degrees) 
                        around the Z-axis.-->
                        <origin xyz = "0.0 0 0 " rpy = " 0 0 ${-pi/2}"/>
                    </visual>
                <!--Define the shape used for collision detection during simulation. This piece is important
                for accurate physical interactions between robot components and the environment or other objects.-->
                <collision>
                    <geometry>
                        <box size="0.08 0.12 0.075"/>
                    </geometry>
                    <origin xyz = "0.0 -0.01 0.034" rpy = " 0 0 0"/>
                </collision>
            </link>

            <link name="left_link2">
                <inertial>
                    <origin xyz="0 0 0.0" rpy="0 0 0"/>
                    <mass value="0.19"/>
                    <inertia
                        ixx="0.000148" ixy="0.0" ixz="0.0"
                        iyy="0.000148" iyz="0.0"
                        izz="0.000096"/>
                </inertial>
                <visual>
                    <geometry>
                        <mesh filename="file://$(find mycobot_description)/meshes/mycobot_280/link2.dae"/>
                    </geometry>
                    <origin xyz = "0.0 0 -0.06096" rpy = " 0 0 ${-pi/2}"/>
                </visual>
                <collision>
                    <geometry>
                        <cylinder radius="0.025" length="0.085"/>
                    </geometry>
                    <origin xyz = "0.0 0 -0.02" rpy = " 0 0 ${-pi/2}"/>
                </collision>
            </link>

            <link name="left_link3">
                <inertial>
                    <origin xyz="0 0 0.0" rpy="0 0 0"/>
                    <mass value="0.16"/>
                    <inertia
                    ixx="0.000148" ixy="0.0" ixz="0.0"
                    iyy="0.000148" iyz="0.0"
                    izz="0.000096"/>
                </inertial>
                <visual>
                    <geometry>
                        <mesh filename="file://$(find mycobot_description)/meshes/mycobot_280/link3.dae"/>
                    </geometry>
                    <origin xyz = "0.0 0 0.03256 " rpy = " 0 ${-pi/2} 0"/>
                </visual>
                <collision>
                    <geometry>
                        <cylinder radius="0.025" length="0.15"/>
                    </geometry>
                    <origin xyz = "-0.058 0 0.059" rpy = "0 ${-pi/2} 0"/>
                </collision>
            </link>

            <link name="left_link4">
                <inertial>
                    <origin xyz="0 0 0.0" rpy="0 0 0"/>
                    <mass value="0.124"/>
                    <inertia
                        ixx="0.000103" ixy="0.0" ixz="0.0"
                        iyy="0.000103" iyz="0.0"
                        izz="0.000096"/>
                </inertial>
                <visual>
                    <geometry>
                        <mesh filename="file://$(find mycobot_description)/meshes/mycobot_280/link4.dae"/>
                    </geometry>
                    <origin xyz = "0.0 0 0.03056 " rpy = " 0 ${-pi/2} 0"/>
                </visual>
                <collision>
                    <geometry>
                        <cylinder radius="0.025" length="0.125"/>
                    </geometry>
                    <origin xyz = "-0.05 0 0.0" rpy = "0 ${-pi/2} 0"/>
                </collision>
            </link>
        
            <link name="left_link5">
                <inertial>
                    <origin xyz="0 0 0.0" rpy="0 0 0"/>
                    <mass value="0.11"/>
                    <inertia
                    ixx="0.000103" ixy="0.0" ixz="0.0"
                    iyy="0.000103" iyz="0.0"
                    izz="0.000096"/>
                </inertial>
                <visual>
                    <geometry>
                        <mesh filename="file://$(find mycobot_description)/meshes/mycobot_280/link5.dae"/>
                    </geometry>
                    <origin xyz = "0.0 0 -0.03356 " rpy = "${-pi/2} 0 0"/>
                </visual>
                <collision>
                    <geometry>
                        <box size="0.03 0.035 0.05"/>
                    </geometry>
                    <origin xyz = "0.0 0 -0.005" rpy = "0 0.0 0"/>
                </collision>
            </link>
        
            <link name="left_link6">
                <inertial>
                    <origin xyz="0 0 0.0" rpy="0 0 0"/>
                    <mass value="0.0739"/>
                    <inertia
                    ixx="0.00006649" ixy="0.0" ixz="0.0"
                    iyy="0.00006649" iyz="0.0"
                    izz="0.000096"/>
                </inertial>
                <visual>
                    <geometry>
                        <mesh filename="file://$(find mycobot_description)/meshes/mycobot_280/link6.dae"/>
                    </geometry>
                    <origin xyz = "0 0.00 -0.038" rpy = "0 0 0"/>
                </visual>
                <collision>
                    <geometry>	
                        <cylinder radius="0.025" length="0.06"/>
                    </geometry>
                    <origin xyz = "0 0.00 0.0" rpy = "${-pi/2} 0 0"/>
                </collision>
            </link>
        
            <link name="left_link6_flange">
                <inertial>
                    <origin xyz="0 0 0.0" rpy="0 0 0"/>
                    <mass value="0.035"/>
                    <inertia
                        ixx="0.0000149" ixy="0.0" ixz="0.0"
                        iyy="0.0000149" iyz="0.0"
                        izz="0.0000196"/>
                </inertial>
                <visual>
                    <geometry>
                        <mesh filename="file://$(find mycobot_description)/meshes/mycobot_280/link7.dae"/>
                    </geometry>
                    <origin xyz = "0.0 0 -0.012 " rpy = "0 0 0"/>
                </visual>
                <collision>
                    <geometry>	
                        <cylinder radius="0.02" length="0.02"/>
                    </geometry>
                    <origin xyz = "0 0.00 0.0" rpy = "0 0 0"/>
                </collision>
            </link>

            <link name="left_gripper_base">
                <inertial>
                    <origin xyz="0 0 0.0" rpy="0 0 0"/>
                    <mass value="0.07"/>
                    <inertia
                        ixx="0.000010725" ixy="0.0" ixz="0.0"
                        iyy="0.000014392" iyz="0.0"
                        izz="0.000018517"/>
                </inertial>
                <visual>
                    <geometry>
                        <mesh filename="file://$(find mycobot_description)/meshes/mycobot_280/gripper_base.dae"/>
                    </geometry>
                    <origin xyz = "0.0 0.0 -0.012" rpy = "0 0 0"/>
                </visual>
                <collision>
                    <geometry>	
                        <box size="0.065 0.025 0.025"/>
                    </geometry>
                    <origin xyz = "0.0 0.0 0.0" rpy = "0 0 0"/>
                </collision>
            </link>
        
            <link name="left_gripper_left1">
                <inertial>
                    <origin xyz="0 0 0.0" rpy="0 0 0"/>
                    <mass value="0.007"/>
                    <inertia
                        ixx="1e-6" ixy="0.0" ixz="0.0"
                        iyy="1e-6" iyz="0.0"
                        izz="1e-6"/>
                </inertial>
                <visual>
                    <geometry>
                        <mesh filename="file://$(find mycobot_description)/meshes/mycobot_280/gripper_left1.dae"/>
                    </geometry>
                    <origin xyz = "0.039 -0.0133 -0.012 " rpy = " 0 0 0"/>
                </visual>
                <collision>
                    <geometry>
                        <box size="0.013 0.02 0.015"/>
                    </geometry>
                    <origin xyz = "0.013 0.042 -0.010 " rpy = " 0 0 0"/>
                </collision>
            </link>
            
            <link name="left_gripper_left2">
                <inertial>
                    <origin xyz="0 0 0.0" rpy="0 0 0"/>
                    <mass value="0.007"/>
                    <inertia
                        ixx="1e-6" ixy="0.0" ixz="0.0"
                        iyy="1e-6" iyz="0.0"
                        izz="1e-6"/>
                </inertial>
                <visual>
                    <geometry>
                        <mesh filename="file://$(find mycobot_description)/meshes/mycobot_280/gripper_left2.dae"/>
                    </geometry>
                    <origin xyz = "0.005 -0.0195 -0.012 " rpy = " 0 0 0"/>
                </visual>
                <collision>
                    <geometry>
                        <box size="0.02 0.02 0.02"/>
                    </geometry>
                    <origin xyz = "-0.025 0.0 -0.010 " rpy = " 0 0 0"/>
                </collision>
            </link>
            
            <link name="left_gripper_left3">
                <inertial>
                    <origin xyz="0 0 0.0" rpy="0 0 0"/>
                    <mass value="0.007"/>
                    <inertia
                        ixx="1e-6" ixy="0.0" ixz="0.0"
                        iyy="1e-6" iyz="0.0"
                        izz="1e-6"/>
                </inertial>
                <visual>
                    <geometry>
                        <mesh filename="file://$(find mycobot_description)/meshes/mycobot_280/gripper_left3.dae"/>
                    </geometry>
                <origin xyz = "0.012 0.0025 -0.012 " rpy = " 0 0 0"/>
                </visual>
                <collision>
                    <geometry>
                        <box size="0.01 0.01 0.01"/>
                    </geometry>
                    <origin xyz = "-0.014 0.005 0.005 " rpy = " 0 0 0"/>
                </collision>
            </link>
            
            <link name="left_gripper_right1">
                <inertial>
                    <origin xyz="0 0 0.0" rpy="0 0 0"/>
                    <mass value="0.007"/>
                    <inertia
                        ixx="1e-6" ixy="0.0" ixz="0.0"
                        iyy="1e-6" iyz="0.0"
                        izz="1e-6"/>
                </inertial>
                <visual>
                    <geometry>
                        <mesh filename="file://$(find mycobot_description)/meshes/mycobot_280/gripper_right1.dae"/>
                    </geometry>
                    <origin xyz = "-0.039 -0.0133 -0.012 " rpy = " 0 0 0"/>
                </visual>
                <collision>
                    <geometry>
                        <box size="0.013 0.02 0.015"/>
                    </geometry>
                    <origin xyz = "-0.013 0.042 -0.010 " rpy = " 0 0 0"/>
                </collision>
            </link>
            
            <link name="left_gripper_right2">
                <inertial>
                    <origin xyz="0 0 0.0" rpy="0 0 0"/>
                    <mass value="0.007"/>
                    <inertia
                        ixx="1e-6" ixy="0.0" ixz="0.0"
                        iyy="1e-6" iyz="0.0"
                        izz="1e-6"/>
                </inertial>
                <visual>
                    <geometry>
                        <mesh filename="file://$(find mycobot_description)/meshes/mycobot_280/gripper_right2.dae"/>
                    </geometry>
                    <origin xyz = "-0.005 -0.0195 -0.012 " rpy = " 0 0 0"/>
                </visual>
                <collision>
                    <geometry>
                        <box size="0.02 0.02 0.02"/>
                    </geometry>
                    <origin xyz = "0.025 0.0 -0.010 " rpy = " 0 0 0"/>
                </collision>
            </link>
            
            <link name="left_gripper_right3">
                <inertial>
                    <origin xyz="0 0 0.0" rpy="0 0 0"/>
                    <mass value="0.007"/>
                    <inertia
                        ixx="1e-6" ixy="0.0" ixz="0.0"
                        iyy="1e-6" iyz="0.0"
                        izz="1e-6"/>
                </inertial>
                <visual>
                    <geometry>
                        <mesh filename="file://$(find mycobot_description)/meshes/mycobot_280/gripper_right3.dae"/>
                    </geometry>
                    <origin xyz = "-0.012 0.0025 -0.012 " rpy = " 0 0 0"/>
                </visual>
                <collision>
                    <geometry>
                        <box size="0.01 0.01 0.01"/>
                    </geometry>
                    <origin xyz = "0.014 0.005 0.005 " rpy = " 0 0 0"/>
                </collision>
            </link>
            
            <!-- Joints -->
            <joint name="${joint_name}" type="fixed">
                <parent link="${parent_link}"/>
                <child link="${link_name}"/>
                <xacro:insert_block name="origin"/>
            </joint>

            <joint name="left_arm_base_to_left_link1" type="fixed">
                <limit effort = "${effort}" lower = "${-pi}" upper = "${pi}" velocity = "${velocity}"/>
                <parent link="${link_name}"/>
                <child link="left_link1"/>
                <origin xyz= "0 0 0" rpy = "0 0 0"/>  
            </joint>

            <joint name="left_link1_to_left_link2" type="revolute">
                <axis xyz="0 0 1"/>
                <limit effort = "${effort}" lower = "-2.879793" upper = "2.879793" velocity = "${velocity}"/>
                <parent link="left_link1"/>
                <child link="left_link2"/>
                <origin xyz= "0 0 0.13156" rpy = "0 0 ${pi/2}"/>  
                <dynamics damping="12.0" friction="6.0"/>
            </joint>

            <joint name="left_link2_to_left_link3" type="revolute">
                <axis xyz="0 0 1"/>
                <limit effort = "${effort}" lower = "-2.879793" upper = "2.879793" velocity = "${velocity}"/>
                <parent link="left_link2"/>
                <child link="left_link3"/>
                <origin xyz= "0 0 -0.001" rpy = "0 ${pi/2} ${-pi/2}"/>  
            </joint>

            <joint name="left_link3_to_left_link4" type="revolute">
                <axis xyz=" 0 0 1"/>
                <limit effort = "${effort}" lower = "-2.879793" upper = "2.879793" velocity = "${velocity}"/>
                <parent link="left_link3"/>
                <child link="left_link4"/>
                <origin xyz= "-0.1104 0 0   " rpy = "0 0 0"/>
            </joint>
        
            <joint name="left_link4_to_left_link5" type="revolute">
                <axis xyz=" 0 0 1"/>
                <limit effort = "${effort}" lower = "-2.879793" upper = "2.879793" velocity = "${velocity}"/>
                <parent link="left_link4"/>
                <child link="left_link5"/>
                <origin xyz= "-0.096 0 0.06062" rpy = "0 0 ${-pi/2}"/>
            </joint>
        
            <joint name="left_link5_to_left_link6" type="revolute">
                <axis xyz=" 0 0 1"/>
                <limit effort = "${effort}" lower = "-2.879793" upper = "2.879793" velocity = "${velocity}"/>
                <parent link="left_link5"/>
                <child link="left_link6"/>
                <origin xyz= "0 -0.07318 0" rpy = "${pi/2} ${-pi/2} 0"/>
            </joint>
        
            <joint name="left_link6_to_left_link6flange" type="revolute">
                <axis xyz=" 0 0 1"/>
                <limit effort = "${effort}" lower = "-3.05" upper = "3.05" velocity = "${velocity}"/>
                <parent link="left_link6"/>
                <child link="left_link6_flange"/>
                <origin xyz= "0 0.0456 0" rpy = "${-pi/2} 0 0"/>
            </joint>

            <joint name="left_link6flange_to_left_gripper_base" type="fixed">
                <parent link="left_link6_flange"/>
                <child link="left_gripper_base"/>
                <origin xyz= "0 0 0.034" rpy = "1.579 0 0"/>
            </joint>
        
            <joint name="left_gripper_controller" type="revolute">
                <axis xyz="0 0 1"/>
                <limit effort = "${effort}" lower = "-0.7" upper = "0.15" velocity = "${velocity}"/>
                <parent link="left_gripper_base"/>
                <child link="left_gripper_left3"/>
                <origin xyz= "-0.012 0.005 0" rpy = "0 0 0"/> 
            </joint>
            
            <!-- The mimic element means this joint will follow the movements of the 
                gripper_controller joint. 
            -->
            <joint name="left_gripper_base_to_left_gripper_left2" type="revolute">
                <axis xyz="0 0 1"/>
                <limit effort = "${effort}" lower = "-0.8" upper = "0.5" velocity = "${velocity}"/>
                <parent link="left_gripper_base"/>
                <child link="left_gripper_left2"/>
                <origin xyz= "-0.005 0.027 0" rpy = "0 0 0"/> 
                <mimic joint="left_gripper_controller" multiplier="1.0" offset="0" />
            </joint>
            
            <joint name="left_gripper_left3_to_left_gripper_left1" type="revolute">
                <axis xyz="0 0 1"/>
                <limit effort = "${effort}" lower = "-0.5" upper = "0.5" velocity = "${velocity}"/>
                <parent link="left_gripper_left3"/>
                <child link="left_gripper_left1"/>
                <origin xyz= "-0.027 0.016 0" rpy = "0 0 0"/> 
                <mimic joint="left_gripper_controller" multiplier="-1.0" offset="0" />
            </joint>
            
            <joint name="left_gripper_base_to_left_gripper_right3" type="revolute">
                <axis xyz="0 0 1"/>
                <limit effort = "${effort}" lower = "-0.15" upper = "0.7" velocity = "${velocity}"/>
                <parent link="left_gripper_base"/>
                <child link="left_gripper_right3"/>
                <origin xyz= "0.012 0.005 0" rpy = "0 0 0"/> 
                <mimic joint="left_gripper_controller" multiplier="-1.0" offset="0" />
            </joint>
            
            <joint name="left_gripper_base_to_left_gripper_right2" type="revolute">
                <axis xyz="0 0 1"/>
                <limit effort = "${effort}" lower = "-0.5" upper = "0.8" velocity = "${velocity}"/>
                <parent link="left_gripper_base"/>
                <child link="left_gripper_right2"/>
                <origin xyz= "0.005 0.027 0" rpy = "0 0 0"/> 
                <mimic joint="left_gripper_controller" multiplier="-1.0" offset="0" />
            </joint>
            
            <joint name="left_gripper_right3_to_left_gripper_right1" type="revolute">
                <axis xyz="0 0 1"/>
                <limit effort = "${effort}" lower = "-0.5" upper = "0.5" velocity = "${velocity}"/>
                <parent link="left_gripper_right3"/>
                <child link="left_gripper_right1"/>
                <origin xyz= "0.027 0.016 0" rpy = "0 0 0"/> 
                <mimic joint="left_gripper_controller" multiplier="1.0" offset="0" />
            </joint>

    </xacro:macro>
</robot>